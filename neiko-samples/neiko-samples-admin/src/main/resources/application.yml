neiko:
  auth:
    open-client: 
      client-id: 1001
    enable-aes: false
    aes-secret-key: 'HX19ChxGmts3l/KkHnWmiw=='
  system:
    administrator:
      user-id: 1
      username: admin
    enable-aes: false
    aes-secret-key: 'HX19ChxGmts3l/KkHnWmiw=='
    password-rule: ''
  log:
    access:
      ignore-url-patterns: 
        - /oauth2/**
        - /ws/**
        - /**
  sa-token:
    sa-token-config:
      auto-renew: true
      is-concurrent: true
      timeout: 3600
      activity-timeout: 1800
      token-prefix: 'Bearer'
    oauth2:
      authorization-server:
        login-captcha-enabled: false
        enforce-json-filter: true
        sa-oauth2-config: 
          is-password: true
      resource-server:
        enforce-cancel-authenticate: false
        ignore-urls:
          - /public/**
          - /ws/**
          - /actuator/**
          - /doc.html
          - /v2/api-docs/**
          - /v3/api-docs/**
          - /swagger-resources/**
          - /swagger-ui/**
          - /swagger-ui.html
          - /webjars/**
          - /bycdao-ui/**
          - /favicon.ico
          - /captcha/**
  web:
    pageable:
      page-parameter-name: page
      size-parameter-name: size
      sort-parameter-name: sort
      max-page-size: 100
  redis:
    key-prefix: 'neiko-'
    null-value: 'N_V'
    delimiter: ':'
    thread-count: 10
    expire-time: 3600
  websocket:
    message-distributor: local #使用 redis 做为消息分发器
  oss:
    endpoint: oss-cn-shenzhen.aliyuncs.com # oss-cn-shenzhen.aliyuncs.com
    region: oss-cn-shenzhen
    access-key: LTAI5t75M5VySn4baE63G5Ss
    access-secret: fDGkh8U9nWaI5euYdCNEU6XUkPHKZP
    bucket: schilings-ballcat # schilings-ballcat
  file:
    local:
      # 这个可以不进行配置或者设置 空字符串, 这样文件就会和系统的临时文件放在一起
      # '/opt/nginx/images'
      path: 'D:\temp'
  openapi:
    info:
      title: Neiko-Admin Docs
      description: Neiko 后台管理服务Api文档
      version: ${project.version}
    contact:
      name: Schilings
      email: 1146830743@qq.com
      url: https://github.com/Schilings
    components:
      security-schemes:
        apiKey:
          type: APIKEY
          in: HEADER
          name: 'access_token'
        #oauth2:
        #  type: OAUTH2
        #  flows:
        #    password:
        #      token-url: /oauth2/token
        #      scope: system
    security:
      - oauth2: []
      - apiKey: []
        
server:
  port: 8080
  
# spring配置
spring:
  # redis
  redis:
    host: 120.25.221.239
    database: 0
    port: 6379
    password: Schilings11538...
  # mysql
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/nk_test?useSSL=false&useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: WNs11538...
  # JavaMailSender 邮件发送的配置
  mail:
    #以qq邮箱发送
    host: smtp.qq.com
    username: 1146830743@qq.com
    #QQ邮箱的授权码
    password: dsejzvaoazwnhjbb
    properties:
      from: 1146830743@qq.com
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
    default-encoding: UTF-8
# 数据库版本控制维护
  flyway:
    clean-disabled: true
    baseline-on-migrate: true
    placeholder-replacement: false # 取消占位符检测
    
# mybatis plus配置
mybatis-plus:
  mapper-locations:
    - classpath*:/com/gitee/sunchenbin/mybatis/actable/mapping/*/*.xml #自动建表
    - classpath*:/mapper/**/*Mapper.xml
  global-config:
    banner: false
    db-config:
      #id-type: auto
      insert-strategy: not_empty
      update-strategy: not_empty
      logic-delete-value: "NOW()" # 逻辑已删除值(使用当前时间标识)
      logic-not-delete-value: 0 # 逻辑未删除值(默认为 0)

# 数据库表结构维护
actable:
  table:
    auto: none #update
  model:
    pack: com.schilings.**.model.entity
  database:
    type: mysql

## OPEN API接口文档
springdoc:
  swagger-ui:
    enabled: true
    urls: #由于 knife4j 对于规范支持的不全面，无法直接使用单文档源数据，所以必须进行分组或者 urls 的指定。
      - { name: 'sample', url: '/v3/api-docs' }
    